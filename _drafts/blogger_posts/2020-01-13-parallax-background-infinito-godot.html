---
layout: post
title: Como hacer parallax background infinito en Godot Engine
date: '2020-01-13T16:32:00.000-06:00'
author: Deybis A. Melendez Vargas
tags:
- tutorial
- Godot Engine
modified_time: '2020-01-24T16:45:07.054-06:00'
blogger_id: tag:blogger.com,1999:blog-5503112308634825503.post-7438468753277792399
blogger_orig_url: https://www.deybismelendez.com/2020/01/parallax-background-infinito-godot.html
---

<h2 id="alguna-vez-te-has-preguntado-cómo-se-hacen-esos-fondos-con-movimiento-infinito-con-godot">¿Alguna vez te has preguntado cómo se hacen esos fondos con movimiento infinito con Godot?</h2><br />Te dejo un mini juego que hice donde apliqué este recurso.<br /><br /><a href="https://www.kongregate.com/games/Damv2007/slide-colors">Slide Colors</a><br /><br />Este es un recurso muy chulo para nuestros juegos, le da vida al  menú, aunque no solo sirve para eso, también lo podemos aplicar en  ciertos juegos, como los runners infinitos.<br /><h3 id="creando-la-escena">Creando la escena</h3>Primero creamos una escena con un ParallaxBackground, de hijo le  ponemos un ParallaxLayer y a este el Sprite o sprites que queramos darle  este efecto.<br />Opcionalmente a la escena la nombramos Background.<br /><br /><img alt="ParallaxBackground" height="280" src="https://imgur.com/UQfiMMR.png" width="400" /><br /><h3 id="configurando-la-imagen">Configurando la imagen</h3>Es necesario configurar los archivos de imagen para utilizarlo como  mozaico, así solo necesitamos un patrón y este se rellenará en toda la  pantalla.<br /><br /><img alt="Imagen" height="320" src="https://imgur.com/WpKCzYk.png" width="320" /><br />Para lograr esto seleccionamos la imagen desde Godot y abrimos la  pestaña de Import, buscamos la categoría Flags y cambiamos Repeat a  Enabled o Mirrored (Dependiendo del estilo del mosaico) prueba ambas si  no sabes cual elegir, por último damos clic en reimportar.<br /><br /><img alt="Import" height="400" src="https://imgur.com/HB2tOV7.png" width="295" /><br /><h3 id="adaptando-el-nodo-sprite">Adaptando el nodo Sprite</h3>Colocamos la imagen en el sprite y seleccionando el nodo Sprite nos  vamos al inspector, buscamos la categoría Region y la activamos y en las  variables “w” y “h” colocamos el ancho y alto de la pantalla del juego  pero proporcional al ancho y alto de la imagen, es decir, que no quede  un mosaico sin partes sin dibujar, por ejemplo, suponiendo que la imagen  mide 64x64 y la pantalla es de 600x600, vamos a poner en “w” y “h”  640x640 (es decir, 64x10) para cubrir toda la pantalla.<br />Ahora seleccionamos el nodo ParallaxLayer y en la categoría Motion  vamos a cambiar las variables “x” y “y” de Mirroring y vamos a poner el  mismo alto y ancho que pusimos antes.<br /><h3 id="añadiendo-la-magia">Añadiendo la magia</h3>Ahora le agregaremos un script a la escena, y colocaremos lo siguiente:<br /><pre class="gdscript"><code>extends ParallaxBackground<br /><br />export var DIR = Vector2(1,1)<br />export var SPEED = 100<br /><br />func _physics_process(delta):<br />    scroll_offset += DIR * SPEED * delta<br /></code></pre>Con esto podremos ver en el editor las variables DIR y SPEED, donde  DIR es para darle dirección al parallax, y SPEED es para indicar la  velocidad.<br /><h3 id="paso-opcional-pero-recomendado">Paso opcional pero recomendado</h3>Debido a que el scroll_offset siempre esta sumando los mismos  valores, es recomendado añadir una forma en que el scroll vuelva a 0,  esto dependerá del DIR que le asignemos, para este ejemplo basta con lo  siguiente al physics_process:<br /><pre class="gdscript"><code> if scroll_offset.x &gt;= 1024:<br />     scroll_offset.x -= 1024<br /> if scroll_offset.y &gt;= 640:<br />     scroll_offset.y -= 640<br /></code></pre>Donde 1024 es el “h” y 640 el “w”. También, se resta en vez de  valorar a 0 para evitar que se vea cortado por la diferencia en  decimales.<br />Y con esto ya tenemos listo y terminado el Background, ya lo podremos utilizar en cualquier escena de nuestro juego.<br /><img alt="Background terminado" height="291" src="https://imgur.com/2smPgIG.png" width="400" /><br />Déjame un comentario si te ha gustado!
---
layout: post
title: Cómo subir módulos a Luarocks
date: '2020-01-21T13:15:00.000-06:00'
author: Deybis A. Melendez Vargas
tags:
- tutorial
- guía
- utilidades
- Lua
modified_time: '2020-01-21T13:15:59.645-06:00'
thumbnail: https://1.bp.blogspot.com/-oMtFj0JA_nY/XidEJ4gupqI/AAAAAAAABi8/0s5SFlCPsdkypsvf9RRfVe2POUMNCQ8jACLcBGAsYHQ/s72-c/Captura%2Bde%2Bpantalla%2Bde%2B2020-01-21%2B12-33-57.png
blogger_id: tag:blogger.com,1999:blog-5503112308634825503.post-156592552549684803
blogger_orig_url: https://www.deybismelendez.com/2020/01/como-subir-modulos-luarocks.html
---

Luarocks es el administrador de módulos de Lua, equivalente al pip3 de Python o al npm de Node js, yo he estado trabajando en un pequeño modulo de vector inspirado en la clase Vector2 de Godot, y ésto me ha llevado a aprender a subir módulos a luarocks.<br /><h2>Paso 1. Crea una cuenta en Luarocks.</h2><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-oMtFj0JA_nY/XidEJ4gupqI/AAAAAAAABi8/0s5SFlCPsdkypsvf9RRfVe2POUMNCQ8jACLcBGAsYHQ/s1600/Captura%2Bde%2Bpantalla%2Bde%2B2020-01-21%2B12-33-57.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="744" data-original-width="1345" height="354" src="https://1.bp.blogspot.com/-oMtFj0JA_nY/XidEJ4gupqI/AAAAAAAABi8/0s5SFlCPsdkypsvf9RRfVe2POUMNCQ8jACLcBGAsYHQ/s640/Captura%2Bde%2Bpantalla%2Bde%2B2020-01-21%2B12-33-57.png" width="640" /></a></div><br />Crear una cuenta es muy fácil, puedes integrarte con tu cuenta de Github, el link es <a href="https://luarocks.org/" target="_blank">éste</a>.<br /><h2>Paso 2. Crea un archivo .rockspec</h2><br />El archivo .rockspec es donde pondremos todo el metadato del módulo<br /><br />El nombre del archivo es importante, debe tener una estructura: nombreModulo-version.rockspec, importante que la versión la puedes nombrar como quieras pero debe tener un -número al final que es el consecutivo de versiones de tu módulo.<br /><br />Ejemplo: mi-modulo-1.0.0-1.rockspec<br /><h2>Paso 3. Escribe los datos del rockspec</h2><br />La estructura básica es la siguiente:<br /><br /><pre><code class="lua"><br />package = "my-rock"<br />version = "version-1"<br />source = {<br />   url = "git+https://github.com/my-username/my-rock"<br />}<br />description = {<br />   homepage = "https://github.com/my-username/my-rock",<br />   license = "*** please specify a license ***"<br />}<br />dependencies = {}<br />build = {<br />   type = "builtin",<br />   modules = {<br />      ["modulo.submodulo"] = "modulo.lua",<br />      ["modulo.submodulo2"] = "modulo2.lua",<br />   }<br />}<br /></code></pre>Puedes ampliar esta estructura con mas metatados, <a href="https://github.com/luarocks/luarocks/wiki/Rockspec-format" target="_blank">enlace a la doc</a>.<br />Toma encuenta que la estructura que tomará el módulo será en forma de paquete, por ejemplo, el repositorio "game-tools" contiene "vector.lua" y no "game-tools.lua". Pero cuando requieras utilizar el submódulo después de instalarlo con luarocks deberás escribir: require("game-tools.vector").<br /><h2>Paso 4. Empaqueta el módulo</h2><br />Para empaquetar el módulo, abrimos la terminal y nos ubicamos en la raíz del repositorio, luego escribimos lo siguiente con PERMISOS DE ADMIN (sudo):<br /><br /><pre><code class="bash">luarocks pack my_module-1.0.rockspec</code></pre>Sustituyendo el my_module-1.0 por el nombre del .rockspec según el caso.<br /><br />Esto nos genera un archivo con extensión .src.rock<br /><h2>Paso 5. Sube los archivos</h2><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-kF2hRj3hFTM/XidJcVFi2jI/AAAAAAAABjY/G0-WPtxd7PM6er70cNpFDXhmAoAAZ-9jgCLcBGAsYHQ/s1600/Captura%2Bde%2Bpantalla%2Bde%2B2020-01-21%2B12-56-32.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="403" data-original-width="1023" height="252" src="https://1.bp.blogspot.com/-kF2hRj3hFTM/XidJcVFi2jI/AAAAAAAABjY/G0-WPtxd7PM6er70cNpFDXhmAoAAZ-9jgCLcBGAsYHQ/s640/Captura%2Bde%2Bpantalla%2Bde%2B2020-01-21%2B12-56-32.png" width="640" /></a></div>Nos vamos a la web de luarocks y seleccionamos upload, luego solo tenemos que subir el archivo .rockspec y .src.rock y seleccionar Submit Query y con esto el módulo ya estará disponible en luarocks.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-DZCPEXjs_Z8/XidKjhRUaAI/AAAAAAAABjk/5s99UCKIgFAERxv5nbQO7An_xTPIvdsqACLcBGAsYHQ/s1600/Captura%2Bde%2Bpantalla%2Bde%2B2020-01-21%2B13-01-21.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="526" data-original-width="1018" height="330" src="https://1.bp.blogspot.com/-DZCPEXjs_Z8/XidKjhRUaAI/AAAAAAAABjk/5s99UCKIgFAERxv5nbQO7An_xTPIvdsqACLcBGAsYHQ/s640/Captura%2Bde%2Bpantalla%2Bde%2B2020-01-21%2B13-01-21.png" width="640" /></a></div><br />
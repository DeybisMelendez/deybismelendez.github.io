---
layout: post
title: Como gestionar niveles bloqueados
date: '2020-08-07T11:07:00.002-06:00'
author: Deybis A. Melendez Vargas
tags:
- tutorial
- videojuegos
- Godot Engine
- utilidades
modified_time: '2020-08-07T11:07:35.200-06:00'
thumbnail: https://1.bp.blogspot.com/-2csjBy9FsLs/Xy2FvW7wfhI/AAAAAAAACIg/58K3H-Swb44xJvklBXc5BM5OZCQi_b15ACLcBGAsYHQ/s72-c/Captura%2Bde%2Bpantalla_2020-08-07_10-30-41.png
blogger_id: tag:blogger.com,1999:blog-5503112308634825503.post-9074872118540634009
blogger_orig_url: https://www.deybismelendez.com/2020/08/como-gestionar-niveles-bloqueados.html
---

<p></p><div class="separator" style="clear: both;"><a href="https://1.bp.blogspot.com/-2csjBy9FsLs/Xy2FvW7wfhI/AAAAAAAACIg/58K3H-Swb44xJvklBXc5BM5OZCQi_b15ACLcBGAsYHQ/s1440/Captura%2Bde%2Bpantalla_2020-08-07_10-30-41.png" imageanchor="1" style="display: block; padding: 1em 0px;"><img border="0" data-original-height="869" data-original-width="1440" src="https://1.bp.blogspot.com/-2csjBy9FsLs/Xy2FvW7wfhI/AAAAAAAACIg/58K3H-Swb44xJvklBXc5BM5OZCQi_b15ACLcBGAsYHQ/s640/Captura%2Bde%2Bpantalla_2020-08-07_10-30-41.png" width="640" /></a></div><p></p><p>Recientemente estuve haciendo un menú de selección de nivel para mi nuevo juego <a href="https://github.com/DeybisMelendez/crate3d" target="_blank">Crate3D</a>, los niveles se desbloquean consiguiendo estrellas, no quería agregar el típico desbloqueo de nivel por nivel, es decir, al terminar un nivel desbloquear el siguiente. ¿Por qué no? Simple, los niveles son muy dificiles, me pasó con su versión anterior "Voxel Box", donde tenía el problema de que un nivel solía ser muy complicado de terminar para algunas personas.</p><p>El problema es que la dificultad es bastante abstracta en estos puzzles, ya que para algunos puede ser fácil y para otros no tanto, por eso es que decidí aplicar un desbloqueo por requisito de estrellas.</p><p>En cada nivel puedes obtener 3 estrellas si cumples con todo, así que un requisito progresivo de estrellas donde te permita desbloquear uno o varios niveles a la vez es posible, pero la pregunta es ¿Cómo?</p><p>Lo primero que se nos puede ocurrir es añadir el requisito manualmente, es decir poner de uno la cantidad de estrellas requeridas en cada nivel, pero esto me llevaría una cantidad de tiempo exagerada, además de que los requisitos de los niveles quiero que varíe según el mundo, es decir, que sea mas dificil desbloquear los niveles conforme avanzamos en los mundos. Lo que me lleva a una simple solución matemática.</p><h3 style="text-align: left;">SUCESIONES</h3><p>Una <a href="https://es.wikipedia.org/wiki/Sucesi%C3%B3n_matem%C3%A1tica" target="_blank">sucesión de números naturales</a> que se puede expresar en una función para calcular el requisito de estrellas por nivel.</p><p>Vamos a poner un ejemplo, quiero que los niveles se desbloqueen con requisitos de números pares, entonces, el requisito de los primeros 10 niveles sería:</p><p><b>0, 2, 4, 6, 8, 10, 12, 14, 16, 18 </b></p><p>El primer nivel estaría desbloqueado por default, con esta sucesión, consiguiendo las 3 estrellas de los 2 primeros niveles ya podremos desbloquear los niveles 3 y 4.</p><p>La sucesión de números pares puede ser calculada fácilmente sin necesidad de escribirlo directamente, simplemente tomamos el número del nivel (restando 1 por el nivel 0) y lo multiplicamos por 2, es decir:</p><p><b>(Nivel-1)x2</b></p><p>Aquí y tenemos una fórmula para determinar el número de estrellas que necesita un nivel para desbloquearse, entonces, para asignar una dificultad solo debemos jugar con el factor "2" y usando decimales podemos obtener números mas divertidos, sin embargo, debemos aplicar un redondeo, la operación sería así:</p><p><b>round( (Nivel-1) x factor) )</b></p><p><b>factor</b> sería un número constante asignado a cada mundo.</p><p><b>round </b>sería la función que redondea o convierte a entero el número, en mi caso utilizo la función ceil() que devuelve el número redondeado "hacia arriba", redondear con floor() cambiaría la sucesión bastante, lo que da a mas posibilidades.</p><p>El número de factor no puede ser mayor que el número de estrellas que puedes ganar en cada nivel, de lo contrario, el jugador se quedará sin desbloquear niveles en algún punto.</p><p>Veamos unos ejemplos, aplicando un factor 1.5:</p><p><b>0, 2, 3, 5, 6, 8, 9, 11, 12, 14</b></p><p>Aplicando un factor de 2.5:</p><p><b>0, 3, 5, 8, 10, 13, 15, 18, 20</b></p><p>Entre mas se acerca el factor al número máximo que se puede ganar en cada nivel, mas dificil será desbloquear niveles. <br /></p><p>En mi juego, en los primeros 2 mundos he aplicado un factor 1.3 y 1.5 con redondeo hacía arriba (ceil) respectivamente:</p><div class="separator" style="clear: both;"><a href="https://1.bp.blogspot.com/-FSQ3oTrzZro/Xy2D-Wnm7BI/AAAAAAAACIU/zhtqZFErrgIX_Y6iBjxb4HgRQhC9aTxogCLcBGAsYHQ/s640/vokoscreen-2020-08-07_10-39-43.gif" imageanchor="1" style="display: block; padding: 1em 0px;"><img border="0" data-original-height="360" data-original-width="640" src="https://1.bp.blogspot.com/-FSQ3oTrzZro/Xy2D-Wnm7BI/AAAAAAAACIU/zhtqZFErrgIX_Y6iBjxb4HgRQhC9aTxogCLcBGAsYHQ/s0/vokoscreen-2020-08-07_10-39-43.gif" /></a></div><p>Evidentemente, para que el jugador juegue todos los mundos desbloqueando niveles poco a poco, tendría que crear un tipo de estrella para cada mundo o bien sumar el número de niveles de los mundos anteriores para ajustar.</p><p>Otra opción sería bloquear los mundos, aunque no es mi intención en este juego, quiero que el jugador pueda probar varios niveles y dejar que avance según el quiera. Todos los mundos tendrán desbloqueados el primer nivel por default.</p><p>Las sucesiones también pueden ser usadas en videojuegos para calcular la cantidad de experiencia requerida para subir de nivel, y muchas otras aplicaciones.</p><p>Como dato final quiero decir que no solo puedes usar un factor para  obtener una sucesión, puedes usar todo tipo de operaciones matemáticas,  incluso logaritmos, según convenga.</p><p>&nbsp;</p><script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'></script><script type='text/javascript'>kofiwidget2.init('Support Me on Ko-fi', '#29abe0', 'B0B3K1P9');kofiwidget2.draw();</script> 